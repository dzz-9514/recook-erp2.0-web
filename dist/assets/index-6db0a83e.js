import{o as K,g as U,R as g,d as N,aq as J,ar as P,q as Q,s as Z,aJ as G,k as v,B as d,w as b,a as f,aK as M,ai as X,aL as Y,aI as ee,am as te,I as oe,aw as ne,ax as le,ay as re}from"./index-bac4b5f3.js";import{E as T,a as ie}from"./el-form-6558df57.js";import"./el-form-item-4ed993c7.js";import{E as se}from"./el-image-viewer-6fe93acf.js";import"./_Uint8Array-8a953de1.js";import"./debounce-b578790f.js";const ae={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},ce=g("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),de=g("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472l122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888l49.92 39.936l-215.808 269.824l-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072l-.64-.512a32 32 0 0 0-44.8 5.952L185.408 876.992z"},null,-1),ue=[ce,de];function fe(e,i){return K(),U("svg",ae,ue)}const pe={name:"ep-picture",render:fe};let C=null,q="",L="",R=null,B=null,p=1,V=!1,k=!1;const F={init(e={},i=!0){i&&console.log("%cautofit.js is running","font-weight: bold; color: #ffb712; background:linear-gradient(-45deg, #bd34fe 50%, #47caff 50% );background: -webkit-linear-gradient( 120deg, #bd34fe 30%, #41d1ff );background-clip: text;-webkit-background-clip: text; -webkit-text-fill-color:linear-gradient( -45deg, #bd34fe 50%, #47caff 50% ); padding: 8px 12px; border-radius: 4px;");const{dw:c=1920,dh:o=929,el:a=typeof e=="string"?e:"#app",resize:h=!0,ignore:m=[],transition:r="none",delay:s=0}=e;C=a;let l=document.querySelector(a);if(!l){console.error(`autofit: '${a}' is not exist`);return}const n=document.createElement("style"),y=document.createElement("style");n.lang="text/css",y.lang="text/css",n.id="autofit-style",y.id="ignoreStyle",n.innerHTML="body {overflow: hidden;}";const x=document.querySelector("body");x.appendChild(n),x.appendChild(y),l.style.height=`${o}px`,l.style.width=`${c}px`,l.style.transformOrigin="0 0",l.style.overflow="hidden",H(c,o,l,m),R=()=>{clearTimeout(B),s!=0?B=setTimeout(()=>{H(c,o,l,m),k&&j(q,L)},s):(H(c,o,l,m),k&&j(q,L))},h&&window.addEventListener("resize",R),V=!0,setTimeout(()=>{l.style.transition=`${r}s`})},off(e="#app"){try{k=!1,window.removeEventListener("resize",R),document.querySelector("#autofit-style").remove();const i=document.querySelector("#ignoreStyle");i&&i.remove(),document.querySelector(C||e).style="",k&&me()}catch(i){console.error("autofit: Failed to remove normally",i),V=!1}V&&console.log("%cautofit.js is off","font-weight: bold;color: #707070; background: #c9c9c9; padding: 8px 12px; border-radius: 4px;")}};function j(e,i=1){V||console.error("autofit.js：autofit has not been initialized yet"),!e&&console.error(`autofit.js：bad selector: ${e}`),q=e,L=i;const c=document.querySelectorAll(e);if(c.length==0){console.error("autofit.js：elRectification found no element");return}for(let o of c){k||(o.originalWidth=o.clientWidth,o.originalHeight=o.clientHeight);let a=p==1?1:p*i;o.style.width=`${o.originalWidth*a}px`,o.style.height=`${o.originalHeight*a}px`,o.style.transform=`scale(${1/p})`,o.style.transformOrigin="0 0"}k=!0}function me(){if(q)for(let e of document.querySelectorAll(q))e.style.width="",e.style.height="",e.style.transform=""}function H(e,i,c,o){let a=document.documentElement.clientHeight,h=document.documentElement.clientWidth;p=h/a<e/i?h/e:a/i,c.style.height=`${a/p}px`,c.style.width=`${h/p}px`,c.style.transform=`scale(${p})`;const m=document.querySelector("#ignoreStyle");m.innerHTML="";for(let r of o){let s=r.el||r.dom;if(typeof r=="string"&&(s=r),!s){console.error(`autofit: bad selector: ${s}`);continue}let l=r.scale?r.scale:1/p,n=l!=p?r.fontSize:"autofit",y=l!=p?r.width:"autofit",x=l!=p?r.height:"autofit";new RegExp(`${s}( |{)`,"gm").test(m.innerHTML)||(m.innerHTML+=`
${s} { 
      transform: scale(${l})!important;
      transform-origin: 0 0;
      width: ${y}!important;
      height: ${x}!important;
    }`,n&&(m.innerHTML+=`
${s} div ,${s} span,${s} a,${s} * {
        font-size: ${n}px;
      }`))}}const W=e=>(ne("data-v-2000564f"),e=e(),le(),e),ge={id:"login_wrap"},he={class:"center"},ye={class:"center-right"},_e=W(()=>g("p",{class:"color-8c8c fs-24"},"Userlogin",-1)),we=W(()=>g("p",{class:"fs-30 mb-30"},"代理后台登录",-1)),ve={class:"captcha"},xe={class:"image-slot"},$e=N({__name:"index",setup(e){const i=J(),c=P();Q(()=>{F.init({dh:929,dw:1920,el:"#login_wrap",resize:!0},!1),a()}),Z(()=>{F.off()});var o=function(){const u=new Date().getTime();return Math.random().toString(36).slice(2)+u};const a=()=>{n.value.key=o(),G({key:n.value.key}).then(({data:u})=>{s.value=u})},h=v(!1);v("账号登录");const m=v(!1),r=v(!1),s=v(),l=v(T),n=v({username:"",password:"",key:"",code:""}),y={username:[{required:!0,trigger:"change",message:"请输入账号"}],password:[{required:!0,trigger:"change",validator:x}],code:[{required:!1,trigger:"change",message:"请输入验证码"}]};function x(u,t,_){t.length<6?_(new Error("密码少于6位数")):_()}function I(u){const{key:t}=u;m.value=t&&t.length===1&&t>="A"&&t<="Z"}function z(){l.value.validate(u=>{u&&(h.value=!0,i.login(n.value).then(()=>{const t=c.query,_=t.redirect??"/",S=Object.keys(t).reduce(($,E)=>(E!=="redirect"&&($[E]=t[E]),$),{});Y.push({path:_,query:S})}).catch(()=>{a()}).finally(()=>{h.value=!1}))})}return(u,t)=>{const _=se,S=ee,$=ie,E=te,A=pe,D=T,O=oe;return K(),U("div",ge,[g("div",he,[d(_,{class:"logo",src:"https://akustatic.oss-cn-hangzhou.aliyuncs.com/smartClearing/logo-B.png"}),g("div",ye,[_e,we,d(D,{model:f(n),ref_key:"loginFormRef",ref:l,rules:y,"label-position":"top"},{default:b(()=>[d($,{label:"账号",prop:"username"},{default:b(()=>[d(S,{autocomplete:"new-password",placeholder:u.$t("login.username"),modelValue:f(n).username,"onUpdate:modelValue":t[0]||(t[0]=w=>f(n).username=w),size:"large"},null,8,["placeholder","modelValue"])]),_:1}),d($,{label:"密码",prop:"password"},{default:b(()=>[d(S,{modelValue:f(n).password,"onUpdate:modelValue":t[1]||(t[1]=w=>f(n).password=w),class:"flex-1",placeholder:"密码",type:f(r)===!1?"password":"input",size:"large",name:"password",onKeyup:[I,M(z,["enter"])]},null,8,["modelValue","type","onKeyup"]),g("span",{class:"ml-2 show",onClick:t[2]||(t[2]=w=>r.value=!f(r))},[d(E,{"icon-class":f(r)===!1?"eye":"eye-open",class:"text-white cursor-pointer",color:"#000"},null,8,["icon-class"])])]),_:1}),d($,{label:"验证码",prop:"code"},{default:b(()=>[d(S,{modelValue:f(n).code,"onUpdate:modelValue":t[3]||(t[3]=w=>f(n).code=w),"auto-complete":"off",placeholder:u.$t("login.verifyCode"),class:"w-295",onKeyup:M(z,["enter"]),size:"large"},null,8,["modelValue","placeholder","onKeyup"]),g("div",ve,[d(_,{src:f(s),onClick:a,class:"w-140 h-[40px] cursor-pointer"},{error:b(()=>[g("div",xe,[d(A)])]),_:1},8,["src"])])]),_:1})]),_:1},8,["model"]),d(O,{type:"primary",round:"",class:"w100 h-48 mt-30",onClick:t[4]||(t[4]=w=>z())},{default:b(()=>[X("登录")]),_:1})])])])}}});const Ve=re($e,[["__scopeId","data-v-2000564f"]]);export{Ve as default};
